(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{229:function(e,t,s){"use strict";s.r(t);var v=s(0),i=Object(v.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"pwa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pwa","aria-hidden":"true"}},[e._v("#")]),e._v(" PWA")]),e._v(" "),s("p",[e._v("对象：")]),e._v(" "),s("p",[e._v("作用域：sw.js相对路径下的client受控、该域同一时间只有一个sw")]),e._v(" "),s("p",[e._v("serviceWorker更新时机（检查sw，若改变则重新install）：页面初始化、手动reg.update()、触发了push等事件且24h未更新")]),e._v(" "),s("p",[e._v("skipWaiting：")]),e._v(" "),s("p",[e._v("不等老sw的client全部卸载，直接激活新sw")]),e._v(" "),s("p",[e._v("claim：")]),e._v(" "),s("p",[e._v("控制当前作用域还未被控制的client ？？")]),e._v(" "),s("p",[e._v("install：注册，一般cache在此时操作")]),e._v(" "),s("p",[e._v("active：激活")]),e._v(" "),s("p",[e._v("fetch：等sw active后才受控")]),e._v(" "),s("p",[e._v("缓存：")]),e._v(" "),s("p",[e._v("serviceWorker监听client的fetch，从cache判断命中")]),e._v(" "),s("p",[e._v("消息推送：")]),e._v(" "),s("p",[e._v("可视化消息")]),e._v(" "),s("p",[e._v("register返回registration对象，在此对象subscribe来注册")]),e._v(" "),s("p",[e._v("serviceWork监听push，调用registration的showNotification展示消息，client.postMessage推送给页面")])])},[],!1,null,null,null);t.default=i.exports}}]);